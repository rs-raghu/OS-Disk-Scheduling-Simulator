/* =================================
   Root Variables for Layout
   ================================= */
:root {
  --sidebar-width: 360px; /* A bit wider for controls + info */
  --app-padding: 1.5rem;
}

/* =================================
   Main App Container - 2-COLUMN GRID
   ================================= */
.app-container {
  display: grid;
  /* Defines our main 2-column layout */
  grid-template-columns: var(--sidebar-width) 1fr;
  grid-template-rows: 100vh; /* Full viewport height */
  grid-template-areas: "sidebar main";
  /* Prevent the whole page from scrolling */
  overflow: hidden; 
}

/* =================================
   Section Placements & Scrolling
   ================================= */

/* --- COLUMN 1: SIDEBAR --- */
.sidebar {
  grid-area: sidebar;
  display: flex;
  flex-direction: column;
  gap: var(--app-padding);
  padding: var(--app-padding);
  /* This is the key: the sidebar itself scrolls */
  overflow-y: auto;
  /* A subtle background to separate it */
  background-color: var(--color-background-primary);
  border-right: 1px solid var(--color-border);
}

/* --- COLUMN 2: MAIN VISUALIZATION --- */
.visualization-panel {
  grid-area: main;
  display: flex;
  flex-direction: column;
  gap: var(--app-padding);
  padding: var(--app-padding);
  /* This is the key: the main area scrolls independently */
  overflow-y: auto;
  background-color: var(--color-background-secondary); /* Added for consistency */
}

/* =================================
   Control Panel Grid (Inside Sidebar)
   ================================= */
.control-panel {
  padding: 0; /* Padding is now on the sidebar */
}

/* This is the main grid for both config and sim panels */
.control-grid {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* This targets rows inside both config and sim panels */
.control-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  align-items: flex-end;
}

.control-group {
  display: flex;
  flex-direction: column;
  gap: 0.35rem; /* Tighter gap */
  flex: 1 1 150px; /* Allow items to grow and shrink */
}

.control-group.full-width {
  flex-basis: 100%;
}

.radio-group {
  display: flex;
  gap: 1rem;
}

/* * THIS IS THE FIX FOR THE BUTTONS 
 * This rule targets the .button-row class inside the #simulation-panel
 * and arranges the 4 animation buttons in a neat 2x2 grid.
*/
.button-row {
  border-top: 1px solid var(--color-border);
  padding-top: 1rem;
  gap: 0.75rem;
  display: grid;
  grid-template-columns: 1fr 1fr; /* 2x2 grid for buttons */
}

.speed-control-group {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  flex-basis: 100%; /* Full width */
}

.speed-slider-container {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.speed-slider-container .slider {
  flex-grow: 1;
}

/* =================================
   Info Panel Layout (Inside Simulation Panel)
   ================================= */
.information-panel {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  /* Add a border to separate it from controls */
  border-top: 2px solid var(--color-border);
  margin-top: 0.5rem;
  padding-top: 1.5rem;
}

.stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr; /* 2-column grid for stats */
  gap: 0.75rem;
}

.queue-list {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

/* =================================
   Responsive Design (Mobile/Tablet)
   ================================= */
@media (max-width: 900px) {
  .app-container {
    /* Stack to a single column */
    grid-template-columns: 1fr;
    grid-template-rows: auto; /* Let content define height */
    grid-template-areas:
      "sidebar"
      "main";
    height: auto; /* Allow page to scroll on mobile */
    overflow: visible;
  }

  .sidebar,
  .visualization-panel {
    /* Remove the fixed height and scrolling */
    overflow-y: visible;
    height: auto;
  }

  .sidebar {
    border-right: none;
  }
}

