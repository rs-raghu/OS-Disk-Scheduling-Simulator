<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive OS Disk Scheduling Algorithm Visualizer">
    <title>OS Disk Scheduling Simulator</title>

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/animations.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="app-container">

        <div class="sidebar">

            <header class="control-panel">
                <div class="header-title">
                    <h1>OS Disk Scheduling</h1>
                    <p id="algorithmDescription">Algorithm Visualizer</p>
                </div>

                <div class="control-grid">

                    <div id="config-panel">
                        <div class="control-row">
                            <div class="control-group">
                                <label for="algorithmSelect">Algorithm:</label>
                                <select id="algorithmSelect">
                                    <option value="fcfs">FCFS (First Come First Serve)</option>
                                    <option value="sstf">SSTF (Shortest Seek Time First)</option>
                                    <option value="scan">SCAN (Elevator Algorithm)</option>
                                    <option value="cscan">C-SCAN (Circular SCAN)</option>
                                    <option value="look">LOOK</option>
                                    <option value="clook">C-LOOK (Circular LOOK)</option>
                                </select>
                            </div>
                        </div>
                        <div class="control-row">
                            <div class="control-group">
                                <label for="initialHeadPosition">Initial Head:</label>
                                <input type="number" id="initialHeadPosition" value="53" min="0" placeholder="e.g., 53">
                            </div>

                            <div class="control-group">
                                <label for="maxTrackNumber">Max Track:</label>
                                <input type="number" id="maxTrackNumber" value="199" min="10" placeholder="e.g., 199">
                            </div>
                        </div>

                        <div class="control-row">
                            <div class="control-group full-width">
                                <label for="requestQueue">Request Queue (comma-separated):</label>
                                <input type="text" id="requestQueue" value="98, 183, 37, 122, 14, 124, 65, 67" placeholder="e.g., 98, 183, 37...">
                            </div>
                            
                            <div id="directionGroup" class="control-group direction-group" style="display: none;">
                                <label>Direction (for SCAN/LOOK):</label>
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="direction" value="low" checked>
                                        Towards 0 (Low)
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="direction" value="high">
                                        Towards Max (High)
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="control-row">
                            <p id="configError" class="error-message" style="display: none;"></p>
                        </div>

                        <div class="control-row">
                            <button id="runSimulationBtn" class="btn btn-primary" title="Run the simulation" style="width: 100%;">
                                <span class="btn-text">Run Simulation</span>
                            </button>
                        </div>
                    </div>

                    <div id="simulation-panel" style="display: none;">
                        <div class="control-row button-row">
                            <button id="playPauseBtn" class="btn btn-primary" title="Play/Pause Animation">
                                <span class="btn-text">Pause</span>
                            </button>
                            <button id="resetBtn" class="btn btn-secondary" title="Reset Animation to Step 0">
                                <span class="btn-text">Reset Animation</span>
                            </button>
                            <button id="stepBackwardBtn" class="btn btn-secondary" title="Step Backward">
                                <span class="btn-text">Step Back</span>
                            </button>
                            <button id="stepForwardBtn" class="btn btn-secondary" title="Step Forward">
                                <span class="btn-text">Step Forward</span>
                            </button>
                        </div>

                        <div class="control-row">
                            <div class="speed-control-group">
                                <label for="speedSlider">Animation Speed:</label>
                                <div class="speed-slider-container">
                                    <span class="speed-label">Slow</span>
                                    <input type="range" id="speedSlider" min="1" max="10" value="5" class="slider">
                                    <span class="speed-label">Fast</span>
                                </div>
                            </div>
                        </div>
                        <div class="control-row">
                            <button id="exportBtn" class="btn btn-success" title="Export to PDF" style="width: 100%;">
                                <span class="btn-text">Export PDF</span>
                            </button>
                        </div>
                        <div class="control-row">
                            <button id="resetAlgorithmBtn" class="btn btn-danger" title="Change settings and run a new simulation" style="width: 100%;">
                                <span class="btn-text">Reset Algorithm</span>
                            </button>
                        </div>

                        <aside class="information-panel">
                            <div class="info-section">
                                <h3>Initial Request Queue</h3>
                                <div class="queue-container">
                                    <div id="initialQueue" class="queue-list">
                                        <span class="queue-empty">No requests loaded</span>
                                    </div>
                                </div>
                            </div>
                            <div class="info-section">
                                <h3>Executed Queue (Serviced)</h3>
                                <div class="queue-container">
                                    <div id="servicedQueue" class="queue-list">
                                        <span class="queue-empty">No services yet</span>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </div> </div>
            </header>
        </div> 
        <section class="visualization-panel">

            <div class="stats-card">
                <div class="stats-grid">
                    <div class="stat-box">
                        <span class="stat-label">Total Head Movement</span>
                        <span class="stat-value" id="totalHeadMovement">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">Seeks Count</span>
                        <span class="stat-value" id="seeksCount">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">Average Seek Time</span>
                        <span class="stat-value" id="averageSeekTime">0.00</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">Current Head Position</span>
                        <span class="stat-value" id="currentHeadPosition">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">Next Target</span>
                        <span class="stat-value" id="nextTargetDisplay">-</span>
                    </div>
                </div>
            </div>

            <div class="graph-container">
                <h3>Position vs. Time Graph</h3>
                <canvas id="graphCanvas" class="graph-canvas" width="1000" height="300"></canvas>
            </div>

            <div class="step-info">
                <span id="currentStepDisplay">Step: 0 / 0</span>
            </div>
            
        </section>
        </div> 
    <script src="Javascript/state-manager.js"></script>

    <script src="Javascript/canvas-renderer.js"></script>

    <script src="Javascript/Algorithms/algorithm-base.js"></script>

    <script src="Javascript/Algorithms/fcfs.js"></script>
    <script src="Javascript/Algorithms/sstf.js"></script>
    <script src="Javascript/Algorithms/scan.js"></script>
    <script src="Javascript/Algorithms/cscan.js"></script>
    <script src="Javascript/Algorithms/look.js"></script>
    <script src="Javascript/Algorithms/clook.js"></script>

    <script src="Javascript/controller.js"></script>

    <script src="Javascript/main.js"></script>

</body>
</html>